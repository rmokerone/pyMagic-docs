安全模式和恢复出厂设置
===========================

如果你的pyMagic出现了一些错误,不要惊慌! 对pyMagic来说因为程序代码导致
pyMagic不能使用基本是不可能的事情。

第一个可以尝试的方法是进入安全模式: 暂时跳过 ``boot.py`` 和 ``main.py``
的代码执行，并使用默认的USB设置。

如果你的文件系统出现问题，你可以恢复出厂设置，这样文件系统就能够还原到初始
的状态。

安全模式
---------

可以按照下面的步骤进入到安全模式:

1. 通过USB连接pyMagic,这样pyMagic就能够启动。
2. 按下USR按键。
3. 在按住USR按键的同时，按下并释放RST按键。
4. 此时LED就会进行绿色，橙色，绿色+橙色的循环。
5. 继续按着USR按键直到 *仅有橙色LED* 亮起的时候释放USR按键。
6. 橙色LED将快速闪烁4次，然后变灭。
7. 这样就成功进入到安全模式。

在安全模式， ``boot.py`` 和 ``main.py`` 文件都不会执行，因此pyMagic以
默认设置进行启动。这意味着你就能够访问文件系统了（USB移动设备将会出现), 
你就可以编辑 ``boot.py`` 和 ``main.py`` 文件去修复任何问题了。

进入安全模式是临时性的，并不会对pyMagic的文件照成任何改变。下次启动如果不
使用上述的方式，依然进入的是正常模式。

文件系统恢复出厂设置
----------------------------

如果你的pyMagic文件系统有损失(例如，你忘记弹出/卸载了)，或者 ``boot.py`` 或 
``main.py`` 的代码有什么无法避免的错误，你就可以通过恢复文件系统进行重置。

恢复文件系统将删除pyMagic内部存储中的所有文件(并不是SD 卡上的), 并将 ``boot.py``, 
``main.py`` , ``README.txt`` 和  ``pybcdc.inf`` 文件恢复到其初始状态。

将文件系统恢复到出厂设置的方法和进入安全模式的方法有些类似，只不过是在绿色+橙色的
时候释放USR按键::

1. 通过USB连接pyMagic,这样pyMagic就能够启动。
2. 按下USR按键。
3. 在按住USR按键的同时，按下并释放RST按键。
4. 此时LED就会进行绿色，橙色，绿色+橙色的循环。
5. 继续按下USR按键知道 *绿色LED和橙色LED都在亮着* ，然后释放USR按键。
6. 然后绿色和橙色LED将快速闪烁4次。
7. 红色的LED将亮起（即此时红色，绿色 和 橙色LED都亮起了)。
8. pyMagic此时正在恢复文件系统(将花费数秒)。
8. 所有的LED全部关闭。
10. 此时文件系统恢复，并进入到安全模式。
11. 按下并释放RST按键进入正常启动。
